{
  "_comment": "Claude Code notification hooks using terminal-notifier (simple, cross-platform)",
  "_usage": "Merge these hooks into your ~/.claude/settings.json",
  "_dependencies": "terminal-notifier (recommended) or osascript (fallback)",
  "_installation": "make notifications-install BACKEND=terminal-notifier",

  "hooks": {
    "Stop": [{
      "hooks": [{
        "type": "command",
        "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
        "timeout": 5
      }]
    }],

    "SubagentStop": [{
      "hooks": [{
        "type": "command",
        "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
        "timeout": 5
      }]
    }],

    "Notification": [
      {
        "matcher": "permission_prompt",
        "hooks": [{
          "type": "command",
          "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
          "timeout": 5
        }]
      },
      {
        "matcher": "idle_prompt",
        "hooks": [{
          "type": "command",
          "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
          "timeout": 5
        }]
      },
      {
        "matcher": "elicitation_dialog",
        "hooks": [{
          "type": "command",
          "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
          "timeout": 5
        }]
      }
    ],

    "SessionStart": [{
      "hooks": [{
        "type": "command",
        "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
        "timeout": 5
      }]
    }],

    "SessionEnd": [{
      "hooks": [{
        "type": "command",
        "command": "${REPO_DIR}/shell/notifications/terminal-notifier.sh",
        "timeout": 5
      }]
    }]
  },

  "env": {
    "NOTIFICATION_SOUND": "${NOTIFICATION_SOUND}",
    "REPO_DIR": "${REPO_DIR}"
  }
}
